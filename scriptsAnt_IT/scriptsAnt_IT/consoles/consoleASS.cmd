@echo off

if not '%PATCHS_ASS%'=='' set TAG_ASS=%TAG_ASS_SANS_PATCH%+%PATCHS_ASS%
if '%PATCHS_ASS%'=='' set TAG_ASS=%TAG_ASS_SANS_PATCH%

set SCRIPTS=scripts
call %SCRIPTS%\commun\setCheminAbsolu.cmd ".\scripts"
set VERSION_HOME=%CHEMIN_ABSOLU%
set XML_HOME=%CHEMIN_ABSOLU%%SCRIPTS%

rem JDK 1.5 par d้faut
call .\commun\setEnv.cmd

cls
set CHOICE=
set CHOICELIST=

title Assemblage v.%TAG_ASS%

:menu
if not "%CHOICELIST%"=="" (
		set CHOICE=%CHOICELIST:~0,3%
		set CHOICELIST=%CHOICELIST:~4,500%
) else (
	set CHOICE=
)

if '%CHOICE%'=='' goto menuderoulant 
if not '%CHOICE%'=='' goto menuchoix

:menuderoulant
echo.
echo     ษออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออป
echo     บ Assemblage de la version %TAG_ASS_SANS_PATCH%                บ
echo     ฬออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออน
echo     บ                                                              บ
echo     บ 101. tagger le code                                          บ
echo     บ 102. tagger bdd                                              บ
echo     บ 103. tagger un patch ou un regroupement de patchs            บ
echo     บ ------------------------------------------------------------ บ
echo     บ 201. MAJ Evenements suivefluid                               บ
echo     บ ------------------------------------------------------------ บ
echo     บ 210. Differences entre versions n et n-1                     บ
echo     บ ------------------------------------------------------------ บ
echo     บ 301. DCT                                                     บ
echo     บ ------------------------------------------------------------ บ
echo     บ 311. DocExploitationBatchs                                   บ
echo     บ ------------------------------------------------------------ บ
echo     บ Assemblage des applications en 1.4                           บ
echo     บ ------------------------------------------------------------ บ
echo     บ 400. Assemblage J2EE complet (401 a 412)                     บ
echo     บ 401. application efluid J2EE                                 บ
echo     บ 402. batchs efluid                                           บ
echo     บ 403. batchs ANT efluid                                       บ
echo     บ 404. injecteurs                                              บ
echo     บ 405. extracteurs                                             บ
echo     บ 406. archiveur                                               บ
echo     บ                                                              บ
echo     บ 407. application eFluidNet                                   บ
echo     บ 408. batchs efluidNet                                        บ
echo     บ 409. application eFluidPub                                   บ
echo     บ                                                              บ
echo     บ 410. application eldap                                       บ
echo     บ 411. batchs eldap                                            บ
echo     บ                                                              บ
echo     บ 412. application AEL                                         บ
echo     บ                                                              บ
echo     บ 413. application efluidProxy (en test)                       บ
echo     บ ------------------------------------------------------------ บ
echo     บ Assemblage des applications en 1.5                           บ
echo     บ ------------------------------------------------------------ บ
echo     บ 430. Assemblage J2EE 1.5 complet (431 a 442)                 บ
echo     บ 431. Assemblage efluid 1.5                                   บ
echo     บ 432. batchs efluid 1.5                                       บ
echo     บ 433. batchs ANT efluid 1.5                                   บ
echo     บ 434. injecteurs 1.5                                          บ
echo     บ 435. extracteurs  1.5                                        บ
echo     บ 436. archiveur 1.5                                           บ
echo     บ                                                              บ
echo     บ 437. application eFluidNet 1.5                               บ
echo     บ 438. batchs efluidNet 1.5                                    บ
echo     บ 439. application eFluidPub 1.5                               บ
echo     บ                                                              บ
echo     บ 440. application eldap 1.5                                   บ
echo     บ 441. batchs eldap 1.5                                        บ
echo     บ                                                              บ
echo     บ 442. application AEL 1.5                                     บ
echo     บ ------------------------------------------------------------ บ
echo     บ 500. Assemblage oracle complet (502 a 530)                   บ
echo     บ 501. Jeux d'essai (obsolete)                                 บ
echo     บ 502. structure de la base                                    บ
echo     บ                                                              บ
echo     บ 510. structure efluidNet                                     บ
echo     บ                                                              บ
echo     บ 520. structure eldap                                         บ
echo     บ                                                              บ
echo     บ 530. structure AEL                                           บ
echo     บ ------------------------------------------------------------ บ
echo     บ 601. Assemblage StreamServe                                  บ
echo     บ 602. Assemblage StreamServe Clients                          บ
echo     บ ------------------------------------------------------------ บ
echo     บ 010. Commit                                                  บ
echo     บ ------------------------------------------------------------ บ
echo     บ 020. Programmation complete (sans commit)                    บ
echo     บ 021. Programmation sans BDD (sans commit)                    บ
echo     บ 022. Programmation sans MAJ Evenements (sans commit)         บ
echo     บ 023. Programmation tagger bdd (prg+102)                      บ
echo     บ 024. Programmation patch code simple sans bdd                บ
echo     บ ------------------------------------------------------------ บ
echo     บ 098. choix compilation avec JDK 1.5 (setEnv par defaut)      บ
echo     บ 099. choix compilation avec JDK 1.4 (setEnv14)               บ
echo     บ ------------------------------------------------------------ บ
echo     บ Programmation (ex : prg+401)                                 บ
echo     บ Multi-selection (ex : 401+402+403)                           บ
echo     บ                                                              บ
echo     บ 0. Quitter                                                   บ
echo     ศออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออออผ
echo.
set CHOICE=
set /p CHOICE=Selectionnez l'etape souhaitee : 
set CHOICELIST=
set TRAITE=false
set SELECTED_TIME=

:menuchoix
rem ******************************************** D้but
set EXIT=1
if '%CHOICE%'=='' goto menu
rem ******************************************** logs de la console
echo %DATE%-%TIME% - Action %CHOICE% >> %VERSION_HOME%\actionsAssemblage%VERSION_COURT%.log
rem ******************************************** Multi-s้lection
if '%CHOICE:~3,1%'=='+' (
	set CHOICELIST=%CHOICE%
	goto menu
)
rem ******************************************** Programmation
if '%CHOICE:~0,3%'=='prg' goto time
rem ****************************************** actions
if '%CHOICE%'=='101' goto taggercode
if '%CHOICE%'=='102' goto taggerbdd
if '%CHOICE%'=='103' goto taggerpatch
if '%CHOICE%'=='201' goto statutevenement
if '%CHOICE%'=='210' goto diff
if '%CHOICE%'=='301' goto dct
if '%CHOICE%'=='311' goto docExploitationsBatchs
if '%CHOICE%'=='400' set CHOICELIST=401+402+403+404+405+406+407+408+409+410+411+412
if '%CHOICE%'=='401' goto applicationJ2EE
if '%CHOICE%'=='402' goto batchs
if '%CHOICE%'=='403' goto batchsANT
if '%CHOICE%'=='404' goto injecteurs
if '%CHOICE%'=='405' goto extracteurs
if '%CHOICE%'=='406' goto archiveur
if '%CHOICE%'=='407' goto efluidNet
if '%CHOICE%'=='408' goto batchsefluidNet
if '%CHOICE%'=='409' goto efluidPub
if '%CHOICE%'=='410' goto applicationeldapJ2EE
if '%CHOICE%'=='411' goto batchseldap
if '%CHOICE%'=='412' goto AEL
if '%CHOICE%'=='413' goto efluidProxy
if '%CHOICE%'=='430' set CHOICELIST=431+432+433+434+435+436+437+438+439+440+441+442
if '%CHOICE%'=='431' goto applicationJ2EE15
if '%CHOICE%'=='432' goto batchs15
if '%CHOICE%'=='433' goto batchsANT15
if '%CHOICE%'=='434' goto injecteurs15
if '%CHOICE%'=='435' goto extracteurs15
if '%CHOICE%'=='436' goto archiveur15
if '%CHOICE%'=='437' goto efluidNet15
if '%CHOICE%'=='438' goto batchsefluidNet15
if '%CHOICE%'=='439' goto efluidPub15
if '%CHOICE%'=='440' goto applicationeldapJ2EE15
if '%CHOICE%'=='441' goto batchseldap15
if '%CHOICE%'=='442' goto AEL15
if '%CHOICE%'=='500' set CHOICELIST=502+503+510+520+530
if '%CHOICE%'=='501' goto je
if '%CHOICE%'=='502' goto structureefluid
if '%CHOICE%'=='510' goto structureefluidNet
if '%CHOICE%'=='520' goto structureeldap
if '%CHOICE%'=='530' goto structureAEL
if '%CHOICE%'=='601' goto streamserve
if '%CHOICE%'=='602' goto streamserveClient
if '%CHOICE%'=='010' goto commit
if '%CHOICE%'=='098' goto jdk15
if '%CHOICE%'=='099' goto jdk14
  

rem etape statutC2DEC et JE desactivees sur toutes les programmations
if '%CHOICE%'=='020' (
rem set CHOICE=prg+101+102+201+210+301+401+402+403+404+405+406+407+408+409+410+411+412+431+432+433+434+435+436+437+438+439+440+441+442+502+510+520+530+601+602
	set CHOICE=prg+101+102+201+210+301+311+431+432+433+434+435+436+437+438+439+440+441+442+099+401+402+403+404+405+406+407+408+409+410+411+412+502+510+520+530+601+602
	goto time
)
if '%CHOICE%'=='021' (
	set CHOICE=prg+101+201+210+301+311+099+401+402+403+404+405+406+407+408+409+410+411+412+098+431+432+433+434+435+436+437+438+439+440+441+442+502+510+520+530+601+602
	goto time
)
if '%CHOICE%'=='022' (
	set CHOICE=prg+101+102+210+301+311+099+401+402+403+404+405+406+407+408+409+410+411+412+098+431+432+433+434+435+436+437+438+439+440+441+442+502+510+520+530+601+602
	goto time
)
if '%CHOICE%'=='023' (
	set CHOICE=prg+102
	goto time
)
if '%CHOICE%'=='024' (
	set CHOICE=prg+103+201+210+099+401+402+403+404+405+406+407+408+409+410+411+412+098+431+432+433+434+435+436+437+438+439+440+441+442+601+602
	goto time
)

rem ******************************************** Navigation
if not '%CHOICELIST%'=='' goto menu
if '%CHOICE%'=='0' goto end
if '%EXIT%'=='1' goto exit
goto menu
rem ******************************************** Fin

:exit
rem l'้tape s้lectionn้e ne correspond pas เ une ้tape valide de la console
echo.
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Etape non valide !        ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo   ==^> Merci de choisir une etape du menu !!
echo.
goto menu

:time
if '%SELECTED_TIME%'=='' (
	set /p SELECTED_TIME=Saisir l'heure de lancement ^(hh24^:mi^) : 
)
if '%SELECTED_TIME%'=='' (
	if '%TRAITE%'=='false' (
		echo      !!! Attention : vous devez saisir une heure !!!
		goto time
	)
)
if not '%SELECTED_TIME:~2,1%' == ':' (
	echo      !!! Attention : le format de la date doit etre ^(hh24^:mi^) !!!
	set SELECTED_TIME=
	goto time
)
if '%SELECTED_TIME:~0,2%%SELECTED_TIME:~3,2%' LSS '%TIME:~0,2%%TIME:~3,2%' (
	echo      !!! Attention : l'heure choisie doit etre superieure a l'heure actuelle !!!
	set SELECTED_TIME=
	goto time
)
if not '%TIME:~0,5%'=='%SELECTED_TIME%' (
	sleep 15
	goto time
)
if '%TIME:~0,5%'=='%SELECTED_TIME%' (
	set TRAITE=true
	set CHOICELIST=%CHOICE:~4,500%
	goto menu
)


rem ******************************************** Tโches TAGGER

:taggercode
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ tag du code java  ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd tagger\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\tagger\tagger.xml -Dcvs.tag=%TAG_ASS_SANS_PATCH% -Dproperty.file=tagger.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlCommunDir=%XML_HOME%\commun
cd ..\..
goto menu


:taggerbdd
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ tag des scripts BDD       ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd tagger\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\tagger\taggerListeFichiers.xml -Dcvs.listeFichier=listeFichiers_BDD.txt -Dproperty.file=taggerBDD.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlCommunDir=%XML_HOME%\commun -DxmlDir=%XML_HOME%\tagger
cd ..\..
goto menu


:taggerpatch
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ tag de patch      ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd tagger\cmd
call ..\..\commun\setExecDir.cmd
echo.
set PATCH=
set /p PATCH=Entrez le Nฐ du patch ou regroupement de patch (valeurs possibles = '06', 'A_33', 'M', etc...) : 
if '%PATCH%'=='' (
	echo. =^> aucun patch saisi, rien ne sera fait !
) else (
  call ant -f %XML_HOME%\tagger\taggerListeFichiers.xml -Dcvs.listeFichier=listeFichiers_%PATCH%.txt -Dproperty.file=taggerListeFichiersVersion.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlCommunDir=%XML_HOME%\commun -DxmlDir=%XML_HOME%\tagger
)
cd ..\..
goto menu



rem ******************************************** Tโches suivefluid

:statutevenement
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Statut Evenements ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd c2\cmd
call %XML_HOME%\commun\setCheminAbsolu.cmd ".\scripts"
java -jar %XML_HOME%/evenement/assemblerVersion.jar http://suivefluid.uem.lan/suivefluid_UEM/services2/ServiceLivraison %LOT_SVF_PREV% CORRIGE %DATE_HEURE_SVF% INTEGRE EFL efluid %VERSION_SVF% %TRIGRAMME% %CHEMIN_ABSOLU%ServiceAssemblage%VERSION_SVF%.log
java -jar %XML_HOME%/evenement/assemblerVersion.jar http://suivefluid.uem.lan/suivefluid_UEM/services2/ServiceLivraison %LOT_SVF_PREV% LIVRE_PARAM %DATE_HEURE_SVF% INTEGRE EFL efluid %VERSION_SVF% %TRIGRAMME% %CHEMIN_ABSOLU%ServiceAssemblageParametrage%VERSION_SVF%.log
cd ..\..
goto menu



rem ******************************************** Tโches DIFF

:diff
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Differences entre versions n et n-1       ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd diff\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\diff\tagDiff.xml -Dcvs.tag1=%TAG_ASS_PRECEDENT% -Dcvs.tag2=%TAG_ASS% -Dproperty.file=diff_ael.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% 
call ant -f %XML_HOME%\diff\tagDiff.xml -Dcvs.tag1=%TAG_ASS_PRECEDENT% -Dcvs.tag2=%TAG_ASS% -Dproperty.file=diff_efluidnet.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% 
call ant -f %XML_HOME%\diff\tagDiff.xml -Dcvs.tag1=%TAG_ASS_PRECEDENT% -Dcvs.tag2=%TAG_ASS% -Dproperty.file=diff_efluidpub.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% 
call ant -f %XML_HOME%\diff\tagDiff.xml -Dcvs.tag1=%TAG_ASS_PRECEDENT% -Dcvs.tag2=%TAG_ASS% -Dproperty.file=diff_eldap.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% 
call ant -f %XML_HOME%\diff\tagDiff.xml -Dcvs.tag1=%TAG_ASS_PRECEDENT% -Dcvs.tag2=%TAG_ASS% -Dproperty.file=diff_hermes.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% 
call ant -f %XML_HOME%\diff\tagDiff.xml -Dcvs.tag1=%TAG_ASS_PRECEDENT% -Dcvs.tag2=%TAG_ASS% -Dproperty.file=diff_streamserve.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% 
call ant -f %XML_HOME%\diff\tagDiff.xml -Dcvs.tag1=%TAG_ASS_PRECEDENT% -Dcvs.tag2=%TAG_ASS% -Dproperty.file=diff_clients.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% 
cd ..\..
goto menu



rem ******************************************** Tโches DCT

:dct
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ DCT               ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd dct\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\documentation\assemblageDCT.xml -Dcvs.tag=%TAG_ASS% -Dproperty.file=dct.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlCommunDir=%XML_HOME%\commun
cd ..\..
goto menu



rem ******************************************** Tโches DOCEXPLOITATIONBATCHS

:docExploitationsBatchs
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ DocExploitationBatchs  ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageDEXBTCH.xml -Dcvs.tag=%TAG_ASS% -Dproperty.file=docExploitationBatchs.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlCommunDir=%XML_HOME%\commun -DxmlDir=%XML_HOME%\j2ee
cd ..\..
goto menu



rem ******************************************** Tโches J2EE

:applicationJ2EE
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ applicationJ2EE    ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageAppliJ2EE.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermesJ2EE -Dproperty.file=appliJ2EE.properties -Dapplication=efluid -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:applicationJ2EE15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ applicationJ2EE 1.5    ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageEAR.xml -Dcvs.tag=%TAG_ASS% -Djava.home=%JAVA_HOME% -Dcontext=hermesJ2EE1.5 -Dproperty.file=appliJ2EE1.5.properties -Dapplication=efluid -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:batchs
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Batchs (CMD)  ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageBatch.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermes -Dproperty.file=batch.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:batchsANT
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Batchs (ANT)  ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageBatchANT.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermes -Dproperty.file=batchANT.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu

:batchs15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Batchs (CMD) 1.5 ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageBatch15.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermes1.5 -Dproperty.file=batch1.5.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu

:batchsANT15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Batchs (ANT) 1.5 ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageBatchANT15.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermes1.5 -Dproperty.file=batchANT1.5.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu



:efluidNet
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ efluidNet         ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageAppliWeb.xml -Dcvs.tag=%TAG_ASS% -Dcontext=eFluidNet -Dproperty.file=eFluidNet.properties -Dapplication=efluid.net -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu

:efluidNet15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ efluidNet  1.5       ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageWAR.xml -Dcvs.tag=%TAG_ASS% -Dcontext=eFluidNet1.5 -Dproperty.file=eFluidNet1.5.properties -Dapplication=efluid.net -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:batchsefluidNet
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Batchs efluidNet   ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageBatch2.xml -Dcvs.tag=%TAG_ASS% -Dcontext=efluidNet -Dproperty.file=efluidNetBatch.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:batchsefluidNet15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Batchs efluidNet 1.5  ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageBatch2-1.5.xml -Dcvs.tag=%TAG_ASS% -Dcontext=efluidNet1.5 -Dproperty.file=efluidNetBatch1.5.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:efluidPub
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ efluidPub         ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageAppliWeb.xml -Dcvs.tag=%TAG_ASS% -Dcontext=eFluidPub -Dproperty.file=eFluidPub.properties -Dapplication=eFluidPub -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu

:efluidPub15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ efluidPub 1.5        ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageWAR.xml -Dcvs.tag=%TAG_ASS% -Dcontext=eFluidPub1.5 -Dproperty.file=eFluidPub1.5.properties -Dapplication=eFluidPub -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:AEL
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ AEL                    ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageAppliWeb.xml -Dcvs.tag=%TAG_ASS% -Dcontext=AEL -Dproperty.file=AEL.properties -Dapplication=AgenceEnLigne -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:AEL15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ AEL    1.5             ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageWar.xml -Dcvs.tag=%TAG_ASS% -Dcontext=AEL1.5 -Dproperty.file=AEL1.5.properties -Dapplication=AgenceEnLigne -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu

:efluidProxy
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ efluidProxy            ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageEAR.xml -Dcvs.tag=%TAG_ASS% -Dcontext=efluidProxy -Dproperty.file=efluidProxy.properties -Dapplication=efluidProxy -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:applicationeldapJ2EE
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ application eldap  ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageAppliJ2EE.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermesLdapJ2EE -Dproperty.file=appliLdap.properties -Dapplication=eldap -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu

:applicationeldapJ2EE15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ application eldap 1.5  ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageEAR.xml -Dcvs.tag=%TAG_ASS% -Djava.home=%JAVA_HOME% -Dcontext=hermesLdapJ2EE1.5 -Dproperty.file=appliLdap1.5.properties -Dapplication=eldap -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:batchseldap
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Batchs eldap       ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageBatch2.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermesLdap -Dproperty.file=hermesLdapBatch.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:batchseldap15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Batchs eldap   1.5    ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageBatch2-1.5.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermesLdap1.5 -Dproperty.file=hermesLdapBatch1.5.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:injecteurs
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Injecteurs        ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageInjecteurs.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermes -Dproperty.file=injecteurs.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:injecteurs15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Injecteurs 1.5     ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageInjecteurs15.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermes1.5 -Dproperty.file=injecteurs1.5.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:extracteurs
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ extracteurs       ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageExtracteurs.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermes -Dproperty.file=extracteurs.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:extracteurs15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ extracteurs 1.5   ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageExtracteurs15.xml -Dcvs.tag=%TAG_ASS% -Dcontext=hermes1.5 -Dproperty.file=extracteurs1.5.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu

:archiveur
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ archiveur         ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageJAR.xml -Dcvs.tag=%TAG_ASS% -Dcontext=archiveur -Dapplication.name=hermes -Dproperty.file=archiveur.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:archiveur15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ archiveur    1.5   ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageJAR.xml -Dcvs.tag=%TAG_ASS% -Dcontext=archiveur -Dapplication.name=hermes1.5 -Dproperty.file=archiveur.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR%
cd ..\..
goto menu


:javadoc
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ JavaDoc           ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd j2ee\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\j2ee\assemblageJavaDoc.xml -Dcvs.module=Developpement_dev/Hermes -DexecDir=%EXEC_DIR%
cd ..\..
goto menu



rem ******************************************** Tโches ORACLE

:je
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ JE               ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd oracle\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\oracle\assemblageJE.xml -Dcvs.tag=%TAG_ASS% -Dproperty.file=assemblerJE.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlDir=%XML_HOME%\oracle -DxmlCommunDir=%XML_HOME%\commun
cd ..\..
goto menu


:structureefluid
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Structure eFluid  ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd oracle\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\oracle\assemblageStructureSchema.xml -Dcvs.tag=%TAG_ASS% -Dproperty.file=assemblerStructureefluid.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlDir=%XML_HOME%\oracle -DxmlCommunDir=%XML_HOME%\commun
cd ..\..
goto menu


:structureeldap
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Structure eldap       ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd oracle\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\oracle\assemblageStructureSchema.xml -Dcvs.tag=%TAG_ASS% -Dproperty.file=assemblerStructureeLdap.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlDir=%XML_HOME%\oracle -DxmlCommunDir=%XML_HOME%\commun
cd ..\..
goto menu

:structureefluidNet
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Structure efluidNet   ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd oracle\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\oracle\assemblageStructureSchema.xml -Dcvs.tag=%TAG_ASS% -Dproperty.file=assemblerstructureefluidNet.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlDir=%XML_HOME%\oracle -DxmlCommunDir=%XML_HOME%\commun
cd ..\..
goto menu


:structureAEL
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Structure AEL         ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd oracle\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\oracle\assemblageStructureSchema.xml -Dcvs.tag=%TAG_ASS% -Dproperty.file=assemblerstructureAEL.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlDir=%XML_HOME%\oracle -DxmlCommunDir=%XML_HOME%\commun
cd ..\..
goto menu



rem ******************************************** Tโches STREAMSERVE

:streamserve
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ StreamServe            ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd streamserve\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\streamserve\assemblageStrS.xml -Dcvs.tag=%TAG_ASS% -Dproperty.file=streamserve.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlCommunDir=%XML_HOME%\commun -DxmlDir=%XML_HOME%\streamserve
cd ..\..
goto menu


:streamserveClient
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ StreamServe            ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd streamserve\cmd
call ..\..\commun\setExecDir.cmd
call ant -f %XML_HOME%\streamserve\assemblageStrS.xml -Dcvs.tag=%TAG_ASS% -Dproperty.file=streamserveClient.properties -Dproperty.file.dir=cmd\parametres -DexecDir=%EXEC_DIR% -DxmlCommunDir=%XML_HOME%\commun -DxmlDir=%XML_HOME%\streamserve
cd ..\..
goto menu



rem ******************************************** Tโches JDK

:jdk15
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Choix JDK 1.5          ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
call .\commun\setEnv.cmd
set
goto menu


:jdk14
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Choix JDK 1.4          ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
call .\commun\setEnv14.cmd
set
goto menu



rem ******************************************** Tโches COMMIT

:commit
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Commit %LOT_ASS%\%TAG_ASS%                ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 
cd ..\..
call CommitCVS_assemblage.cmd %LOT_ASS%\%TAG_ASS% 1
cd %LOT_ASS%\%TAG_ASS%
goto menu

:help
echo ฺฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฟ
echo ณ Help                                      ณ
echo ภฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤฤู
echo. 


:end
